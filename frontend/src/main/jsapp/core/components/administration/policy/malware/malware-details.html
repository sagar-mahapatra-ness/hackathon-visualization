<div layout="column" layout-align="start stretch" class="content-height-fixer   admin-page">
    <div class="policy-table-page">
        <div class="admin-page-policies-header">
            <md-toolbar layout="row" layout-align="start center" class="admin-policy-table-toolbar">
                <div>
                    <span class="policy-title" ui-sref="home.policy.policylist.malware"> {{ 'admin.policy.malwarePolicy.heading' | translate}} </span> <md-icon style="color: #6d6e71;opacity: 0.6;">keyboard_arrow_right</md-icon> <span class="toolbar-desc">Policy Details</span>
                </div>
                <!-- <div ng-if="detailsForm.$dirty"> -->
               
                <!-- </div> -->
            </md-toolbar>
        </div> 
        <form name="detailsForm" novalidate style="margin-top:24px;">
            <section layout="row" class="edit-name-tenant">
                <div layout="column" class="policy-header-details edit-name">
                    <div ng-show="editcontainer" class="show-name-details">
                        <div class="edit-heading">Policy Name</div>
                            {{malwarePolicyBasedId.name}}
                        <md-icon ng-show="is_update_policy" class="material-icons icon-18" ng-click="editcontainer = !editcontainer" style="cursor: pointer;opacity:0.6;">edit</md-icon>
                    </div>
                    <div ng-show="!editcontainer">
                        <md-input-container class="elem-width-medium" style="margin-top: 20px;">
                            <label style="font-size:16px;">Policy Name</label>
                            <input style="font-size:16px;" md-maxlength="100" name='malwarename' id="malwarename" aria-label="malware Policy" ng-model="malwarePolicyBasedId.name" ng-pattern="/^[a-zA-Z0-9 _.-]*$/" required>
                            <div ng-messages="detailsForm.malwarename.$error">
                                <div ng-message="required">This is required.</div>
                                <div ng-message="md-maxlength">The name has to be less than or equal to 100 characters long.</div>
                                <div ng-message="pattern">Only alphanumeric, ".", "-" are allowed.</div>
                            </div>
                            <span style="float: right;
                                margin-top: -25px;
                                margin-right: -40px;">
                                <md-icon style="cursor:pointer;opacity:0.6;" ng-click="editcontainer=true;" role="button" tabindex="0" class="icon-18 material-icons">close</md-icon>
                                <md-icon style="cursor:pointer;color:#4a90e2;" ng-click="editcontainer=true;" role="button" tabindex="0" class="icon-18 material-icons">done</md-icon>
                            </span>
                        </md-input-container>
                    </div>
                </div>
                <div layout="column" class=" policy-header-details edit-name-tenant">
                    <div class="edit-heading">Tenant</div>
                    <div ng-show="!tenantselected">{{malwarePolicyBasedId.tenantName}}
                        <md-icon ng-if="is_update_policy" class="material-icons icon-18" ng-click="editTenant()" style="cursor: pointer;opacity:0.6;">edit</md-icon>
                    </div>
                    <div ng-show="tenantselected" class="tenant-selected">
                        <span>{{selectedTenantObj.name}} <md-icon class="material-icons icon-18" ng-click="editTenant()" style="cursor: pointer;opacity:0.6;">edit</md-icon></span>
                    </div>
                </div>
                <!-- <div layout="column" class="policy-header-details">
                      <div class="edit-heading">Created By</div>
                      <span>-</span>
                </div> -->
                <div layout="column" class="policy-header-details">
                      <div class="edit-heading">Last Updated</div>
                      <span><!-- {{malwarePolicyBasedId.modifiedDate}}  -->{{malwarePolicyBasedId.lastModified | date:'MM/dd/yyyy'}}</span>
                </div>
            </section>
            <md-divider class="rule-divider"></md-divider>
            <section layout="row" class="rules-heading" layout-align="start center" style="height: 64px;">
                <span>Rules</span>
            </section>
            <section layout="row" class="policy-table-headings">
                <div class="malware-engine">Malware Engine</div>
                <div class="action-threshold">Severity Threshold to Take Action</div>
            </section>
            <section class="malware-policy-table">
                <policytable content="malwarePolicyBasedId.fileActions"> </policytable>
            </section>
        </form>
        
    </div>
    <div flex></div>
     <div class="policy-page-footer">
        <md-content layout="row" layout-align="end end" class="admin-footer admin-policy-table-toolbar" >
             <md-button  ng-if="is_update_policy" class="md-accent md-raised  modal-done-button" ng-click="callUpdatePolicyData(malwarePolicyBasedId);" ng-disabled="!detailsForm.$dirty || detailsForm.$invalid ">
                    save
            </md-button>
        </md-content>
   </div>
</div>